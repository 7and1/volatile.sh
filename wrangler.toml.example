name = "volatile-sh"
main = "src/index.js"
compatibility_date = "2024-12-01"

# Account ID should be set via environment variable CLOUDFLARE_ACCOUNT_ID
# or copied from this example to wrangler.toml (not tracked in git)
# account_id = "YOUR_ACCOUNT_ID_HERE"

# Custom domain routes
routes = [
  { pattern = "volatile.sh", custom_domain = true },
  { pattern = "www.volatile.sh", custom_domain = true }
]

# Serve static files from /public
[assets]
directory = "./dist"

# Durable Object bindings
[[durable_objects.bindings]]
name = "SECRETS"
class_name = "SecretStore"

[[durable_objects.bindings]]
name = "RATE_LIMIT"
class_name = "RateLimiter"

# Durable Object migrations (required for first deploy)
[[migrations]]
tag = "v1"
new_classes = ["SecretStore"]

[[migrations]]
tag = "v2"
new_classes = ["RateLimiter"]
