<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Documentation - volatile.sh</title>
    <meta
      name="description"
      content="RESTful API documentation for volatile.sh. Learn how to integrate secure, self-destructing secret sharing into your applications with our simple HTTP API."
    />
    <meta
      name="keywords"
      content="volatile.sh API, secret sharing API, secure messaging API, REST API, burn after reading API, encrypted API"
    />
    <meta name="robots" content="index,follow" />
    <meta name="theme-color" content="#050505" />
    <link rel="canonical" href="https://volatile.sh/api.html" />

    <meta property="og:title" content="API Documentation - volatile.sh" />
    <meta
      property="og:description"
      content="RESTful API documentation for volatile.sh - integrate secure secret sharing into your applications."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://volatile.sh/api.html" />
    <meta property="og:site_name" content="volatile.sh" />
    <meta property="og:image" content="https://volatile.sh/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="API Documentation - volatile.sh" />
    <meta
      name="twitter:description"
      content="RESTful API documentation for volatile.sh - integrate secure secret sharing."
    />
    <meta name="twitter:image" content="https://volatile.sh/og-image.png" />
    <meta name="author" content="volatile.sh Team" />

    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üî•</text></svg>"
    />

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "TechArticle",
        "name": "volatile.sh API Documentation",
        "description": "RESTful API for secure, self-destructing secret sharing",
        "url": "https://volatile.sh/api.html",
        "provider": {
          "@type": "Organization",
          "name": "volatile.sh",
          "url": "https://volatile.sh/",
          "logo": "https://volatile.sh/og-image.svg",
          "description": "Zero-knowledge secret sharing service",
          "sameAs": ["https://github.com"]
        }
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://volatile.sh/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "API Documentation",
            "item": "https://volatile.sh/api.html"
          }
        ]
      }
    </script>

    <style>
      :root {
        --bg: #050505;
        --fg: #33ff00;
        --dim: #1a8000;
        --dimmer: #0c3d00;
        --red: #ef4444;
        --blue: #3b82f6;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        padding: 1.5rem;
        background: var(--bg);
        color: var(--fg);
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        line-height: 1.7;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
      }
      header {
        margin-bottom: 2rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--dimmer);
      }
      h1 {
        font-size: 1.8rem;
        margin: 0 0 0.5rem 0;
        text-transform: uppercase;
        letter-spacing: 2px;
      }
      .tagline {
        font-size: 0.85rem;
        opacity: 0.7;
      }
      h2 {
        font-size: 1.3rem;
        margin: 2.5rem 0 1rem 0;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--dimmer);
      }
      h3 {
        font-size: 1.1rem;
        margin: 1.5rem 0 0.75rem 0;
        color: var(--fg);
      }
      p,
      li {
        opacity: 0.9;
        font-size: 0.95rem;
      }
      a {
        color: var(--dim);
        text-decoration: none;
      }
      a:hover {
        color: var(--fg);
        text-decoration: underline;
      }
      code {
        color: var(--fg);
        background: var(--dimmer);
        padding: 0.15rem 0.4rem;
        font-size: 0.9em;
      }
      pre {
        background: var(--dimmer);
        padding: 1rem;
        overflow-x: auto;
        border-left: 3px solid var(--dim);
      }
      pre code {
        background: none;
        padding: 0;
      }
      .endpoint {
        background: rgba(26, 128, 0, 0.1);
        border: 1px solid var(--dim);
        padding: 1.5rem;
        margin: 1rem 0;
        border-radius: 4px;
      }
      .method {
        display: inline-block;
        padding: 0.2rem 0.5rem;
        font-weight: bold;
        margin-right: 0.5rem;
        border-radius: 3px;
      }
      .method.get {
        background: var(--blue);
        color: white;
      }
      .method.post {
        background: var(--dim);
        color: white;
      }
      .url {
        font-family: monospace;
        word-break: break-all;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
      }
      th,
      td {
        text-align: left;
        padding: 0.75rem;
        border-bottom: 1px solid var(--dimmer);
      }
      th {
        color: var(--fg);
        border-bottom: 2px solid var(--dim);
      }
      .nav {
        text-align: center;
        margin-bottom: 2rem;
        font-size: 0.85rem;
      }
      .nav a {
        margin: 0 0.5rem;
        opacity: 0.7;
      }
      .nav a:hover {
        opacity: 1;
      }
      .note {
        background: rgba(59, 130, 246, 0.1);
        border-left: 3px solid var(--blue);
        padding: 1rem;
        margin: 1rem 0;
      }
      .warning {
        border-left: 3px solid var(--red);
        padding-left: 1rem;
        margin: 1rem 0;
      }
      .warning p {
        color: var(--red);
        margin: 0.25rem 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="nav">
        <a href="/">[ HOME ]</a>
        <a href="/api.html">[ API ]</a>
        <a href="/use-cases.html">[ USE CASES ]</a>
        <a href="/comparison.html">[ COMPARISON ]</a>
        <a href="/faq.html">[ FAQ ]</a>
        <a href="/docs.html">[ DOCS ]</a>
      </div>

      <header>
        <h1>&gt; API_DOCUMENTATION</h1>
        <p class="tagline">Integrate secure secret sharing into your applications</p>
      </header>

      <h2>Overview</h2>
      <p>
        The volatile.sh API provides a simple RESTful interface for creating and retrieving
        self-destructing, encrypted secrets. All encryption happens client-side‚Äîthe server never
        sees your plaintext data.
      </p>

      <div class="note">
        <strong>Note:</strong> The API is designed for server-to-server communication. For
        client-side usage, use the web interface at <a href="/">volatile.sh</a>.
      </div>

      <h2>Base URL</h2>
      <pre><code>https://volatile.sh/api/v1</code></pre>

      <h2>Authentication</h2>
      <p>
        No authentication required. Rate limiting is applied based on IP address. Contact us for
        higher rate limits for your application.
      </p>

      <h2>Endpoints</h2>

      <div class="endpoint">
        <h3><span class="method post">POST</span> <span class="url">/secrets</span></h3>
        <p>Create a new encrypted secret.</p>

        <h4>Request Body</h4>
        <table>
          <thead>
            <tr>
              <th>Field</th>
              <th>Type</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>data</code></td>
              <td>string</td>
              <td>Yes</td>
              <td>Base64-encoded encrypted secret</td>
            </tr>
            <tr>
              <td><code>ttl</code></td>
              <td>integer</td>
              <td>Yes</td>
              <td>Time-to-live in seconds (300-604800)</td>
            </tr>
          </tbody>
        </table>

        <h4>Response</h4>
        <pre><code>{
  "id": "abc123def456",
  "expires_at": "2024-12-30T12:34:56Z"
}</code></pre>
      </div>

      <div class="endpoint">
        <h3><span class="method get">GET</span> <span class="url">/secrets/{id}</span></h3>
        <p>Retrieve a secret by ID. The secret is deleted immediately after retrieval.</p>

        <h4>Parameters</h4>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Type</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>id</code></td>
              <td>string</td>
              <td>Yes</td>
              <td>Secret identifier returned from POST</td>
            </tr>
          </tbody>
        </table>

        <h4>Response</h4>
        <pre><code>{
  "data": "base64-encoded-encrypted-data"
}</code></pre>

        <h4>Error Responses</h4>
        <pre><code>// 404 Not Found
{
  "error": "Secret not found or expired"
}

// 410 Gone
{
  "error": "Secret has already been read"
}</code></pre>
      </div>

      <h2>Encryption Format</h2>
      <p>
        Secrets must be encrypted client-side before sending to the API. Use the following format:
      </p>
      <ul>
        <li><strong>Algorithm:</strong> AES-256-GCM</li>
        <li><strong>Key Derivation:</strong> Generate a random 256-bit key</li>
        <li><strong>Nonce:</strong> 96-bit (12 bytes) random IV</li>
        <li><strong>Output:</strong> Base64Encode(nonce + ciphertext + authTag)</li>
      </ul>

      <h2>Code Examples</h2>

      <h3>cURL</h3>
      <h4>Create a Secret</h4>
      <pre><code>curl -X POST https://volatile.sh/api/v1/secrets \
  -H "Content-Type: application/json" \
  -d '{
    "data": "base64-encoded-encrypted-secret",
    "ttl": 3600
  }'</code></pre>

      <h4>Retrieve a Secret</h4>
      <pre><code>curl https://volatile.sh/api/v1/secrets/abc123def456</code></pre>

      <h3>JavaScript</h3>
      <pre><code>// Create a secret
async function createSecret(encryptedData, ttl) {
  const response = await fetch('https://volatile.sh/api/v1/secrets', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      data: encryptedData,
      ttl: ttl
    })
  });
  return await response.json();
}

// Retrieve a secret
async function getSecret(id) {
  const response = await fetch(`https://volatile.sh/api/v1/secrets/${id}`);
  if (response.status === 404 || response.status === 410) {
    throw new Error('Secret not found or already read');
  }
  return await response.json();
}</code></pre>

      <h3>Python</h3>
      <pre><code>import requests
import base64
from cryptography.hazmat.primitives.ciphers.aead import AESGCM

# Encrypt data
def encrypt_secret(plaintext, key):
    aesgcm = AESGCM(key)
    nonce = os.urandom(12)
    ciphertext = aesgcm.encrypt(nonce, plaintext.encode(), None)
    return base64.b64encode(nonce + ciphertext).decode()

# Create a secret
def create_secret(data, ttl):
    response = requests.post(
        'https://volatile.sh/api/v1/secrets',
        json={'data': data, 'ttl': ttl}
    )
    return response.json()

# Retrieve a secret
def get_secret(secret_id):
    response = requests.get(f'https://volatile.sh/api/v1/secrets/{secret_id}')
    return response.json()</code></pre>

      <h3>Go</h3>
      <pre><code>package main

import (
    "encoding/base64"
    "encoding/json"
    "io"
    "net/http"
)

type SecretRequest struct {
    Data string `json:"data"`
    TTL  int    `json:"ttl"`
}

type SecretResponse struct {
    ID        string `json:"id"`
    ExpiresAt string `json:"expires_at"`
}

func CreateSecret(data string, ttl int) (*SecretResponse, error) {
    req := SecretRequest{Data: data, TTL: ttl}
    body, _ := json.Marshal(req)

    resp, err := http.Post(
        "https://volatile.sh/api/v1/secrets",
        "application/json",
        bytes.NewReader(body),
    )
    if err != nil {
        return nil, err
    }
    defer resp.Body.Close()

    var result SecretResponse
    json.NewDecoder(resp.Body).Decode(&result)
    return &result, nil
}</code></pre>

      <h2>Rate Limiting</h2>
      <table>
        <thead>
          <tr>
            <th>Endpoint</th>
            <th>Limit</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>POST /secrets</td>
            <td>10 requests per minute per IP</td>
          </tr>
          <tr>
            <td>GET /secrets/{id}</td>
            <td>60 requests per minute per IP</td>
          </tr>
        </tbody>
      </table>

      <div class="warning">
        <p><strong>Security Reminders:</strong></p>
        <p>‚Ä¢ Always encrypt secrets client-side before sending to the API</p>
        <p>‚Ä¢ Never include the decryption key in API requests</p>
        <p>‚Ä¢ Share the decryption key through a separate channel</p>
        <p>‚Ä¢ Use HTTPS for all API requests</p>
      </div>

      <h2>TTL Values</h2>
      <table>
        <thead>
          <tr>
            <th>Duration</th>
            <th>Seconds</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>5 minutes</td>
            <td>300</td>
          </tr>
          <tr>
            <td>15 minutes</td>
            <td>900</td>
          </tr>
          <tr>
            <td>1 hour</td>
            <td>3600</td>
          </tr>
          <tr>
            <td>6 hours</td>
            <td>21600</td>
          </tr>
          <tr>
            <td>1 day</td>
            <td>86400</td>
          </tr>
          <tr>
            <td>3 days</td>
            <td>259200</td>
          </tr>
          <tr>
            <td>7 days</td>
            <td>604800</td>
          </tr>
        </tbody>
      </table>

      <p style="margin-top: 2rem; opacity: 0.7">
        <a href="/">‚Üê Back to volatile.sh</a>
      </p>
    </div>
  </body>
</html>
